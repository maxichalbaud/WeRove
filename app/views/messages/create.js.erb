// const refreshChat = () => {


// const messagesContainer = document.querySelector('.messages');
// messagesContainer.insertAdjacentHTML('beforeend', '<%= j render "message", message: @message %>');
// const input = document.querySelector('#message_content');
// console.log(messagesContainer)
// input.value = '';
// input.blur();

// }

<% if @message.errors.any? %>
  // handle validation errors later
<% else %>

function refreshChat() {

  const messagesContainer = document.querySelector('.messages');
  messagesContainer.insertAdjacentHTML('beforeend', '<%= j render "message", message: @message %>');
  const input = document.querySelector('#message_content');
  console.log(messagesContainer)
  input.value = '';
  input.blur();
  scrollLastMessageIntoView();

}

refreshChat('<%= j render "message", message: @message, user_is_messages_author: true %>');

<% end %>
